DROP TABLE IF EXISTS users;
DROP TABLE IF EXISTS projects;
DROP TABLE IF EXISTS batches;
DROP TABLE IF EXISTS fields;
DROP TABLE IF EXISTS field_values;

CREATE TABLE users
(
    uid INTEGER NOT NULL AUTOINCREMENT,
    first VARCHAR(255) NOT NULL,
    last VARCHAR(255),
    password VARCHAR(255) NOT NULL,
    email VARCHAR(255),
    PRIMARY KEY ( uid, password )
)

CREATE TABLE projects
(
    pid INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(255) NOT NULL,
    fnum INTEGER NOT NULL,
    PRIMARY KEY ( pid ) 
)

CREATE TABLE batches
(
    bid INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    fname VARCHAR(255),
    ref_pid INTEGER NOT NULL,
    PRIMARY KEY ( bid )
)

CREATE TABLE fields
(
    fid INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    column INTEGER NOT NULL,
    name VARCHAR(255),
    ref_pid INTEGER NOT NULL,
    PRIMARY KEY ( fid )
)

CREATE TABLE field_values
(
    ref_fid INTEGER NOT NULL PRIMARY KEY,
    row INTEGER NOT NULL PRIMARY KEY,
    value VARCHAR(255),
) 
